<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste</title>
</head>

<body class="flex-1 items-center justify-center">

    <input type="file" id="fotoInput" accept="image/*">

    <script>
    document.getElementById('fotoInput').addEventListener('change', async function (event) {
        const file = event.target.files[0];
        if (!file) return;

        // Ler a imagem como base64
        const reader = new FileReader();
        reader.onloadend = async function () {
        const base64Image = reader.result.split(',')[1]; // remove "data:image/jpeg;base64,"

        // Enviar para o ImgBB
        const apiKey = 'c895eda0152609e927f222e3b8d45938';
        const formData = new URLSearchParams();
        formData.append('key', apiKey);
        formData.append('image', base64Image);

        try {
            const response = await fetch('https://api.imgbb.com/1/upload', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body: formData
            });

            const data = await response.json();
            const imageUrl = data.data.url;

            console.log('URL da imagem:', imageUrl);
            // Agora vocÃª pode salvar imageUrl no banco de dados, junto com nome, email etc.
        } catch (err) {
            console.error('Erro ao enviar imagem:', err);
        }
        };

        reader.readAsDataURL(file);
    });
    </script>
</body>
</html>